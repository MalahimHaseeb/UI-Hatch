{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "feedback-collector",
  "type": "registry:ui",
  "title": "Feedback Collector",
  "description": "A support widget that captures metadata and user feedback automatically.",
  "files": [
    {
      "path": "./components/feedback-collector.tsx",
      "content": "\"use client\";\n\nimport React, { useState } from \"react\";\nimport { MessageSquarePlus, X, Send, AlertCircle, Sparkles } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\ntype FeedbackType = \"bug\" | \"feature\" | \"other\";\n\nexport function FeedbackCollector() {\n    const [isOpen, setIsOpen] = useState(false);\n    const [type, setType] = useState<FeedbackType>(\"feature\");\n    const [message, setMessage] = useState(\"\");\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isSent, setIsSent] = useState(false);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setIsSubmitting(true);\n\n        // Capture metadata automatically\n        const metadata = {\n            type,\n            message,\n            url: window.location.href,\n            userAgent: navigator.userAgent,\n            screenSize: `${window.innerWidth}x${window.innerHeight}`,\n            timestamp: new Date().toISOString(),\n        };\n\n        console.log(\"Feedback Submitted:\", metadata);\n\n        // Simulate API call\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n\n        setIsSubmitting(false);\n        setIsSent(true);\n        setTimeout(() => {\n            setIsOpen(false);\n            setIsSent(false);\n            setMessage(\"\");\n        }, 2000);\n    };\n\n    return (\n        <div className=\"fixed bottom-6 right-6 z-50\">\n            <Button\n                onClick={() => setIsOpen(!isOpen)}\n                className=\"h-12 w-12 rounded-full shadow-2xl transition-transform hover:scale-110 active:scale-95 bg-primary\"\n            >\n                {isOpen ? <X className=\"h-6 w-6\" /> : <MessageSquarePlus className=\"h-6 w-6\" />}\n            </Button>\n\n            {isOpen && (\n                <div className=\"absolute bottom-16 right-0 w-[350px] overflow-hidden rounded-2xl border border-border bg-card shadow-2xl transition-all animate-in slide-in-from-bottom-5\">\n                    <div className=\"bg-muted/50 p-4 border-b border-border\">\n                        <h3 className=\"font-semibold text-foreground flex items-center gap-2\">\n                            <Sparkles className=\"h-4 w-4 text-primary\" />\n                            Give Feedback\n                        </h3>\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                            Help us improve UI Hatch with your suggestions or report bugs.\n                        </p>\n                    </div>\n\n                    {!isSent ? (\n                        <form onSubmit={handleSubmit} className=\"p-4 space-y-4\">\n                            <div className=\"grid grid-cols-3 gap-2\">\n                                {([\"feature\", \"bug\", \"other\"] as FeedbackType[]).map((t) => (\n                                    <button\n                                        key={t}\n                                        type=\"button\"\n                                        onClick={() => setType(t)}\n                                        className={cn(\n                                            \"px-2 py-1.5 rounded-md text-[10px] font-bold uppercase transition-all tracking-wider border\",\n                                            type === t\n                                                ? \"bg-primary/10 border-primary text-primary\"\n                                                : \"bg-muted border-transparent text-muted-foreground hover:border-border\"\n                                        )}\n                                    >\n                                        {t}\n                                    </button>\n                                ))}\n                            </div>\n\n                            <textarea\n                                required\n                                placeholder={`Describe the ${type}...`}\n                                value={message}\n                                onChange={(e) => setMessage(e.target.value)}\n                                className=\"w-full min-h-[120px] rounded-lg border border-input bg-background p-3 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50\"\n                            />\n\n                            <Button\n                                disabled={isSubmitting || !message}\n                                className=\"w-full h-10 gap-2\"\n                                type=\"submit\"\n                            >\n                                {isSubmitting ? \"Sending...\" : \"Send Feedback\"}\n                                <Send className=\"h-4 w-4\" />\n                            </Button>\n                        </form>\n                    ) : (\n                        <div className=\"flex flex-col items-center justify-center p-12 text-center space-y-3\">\n                            <div className=\"h-12 w-12 rounded-full bg-green-500/10 flex items-center justify-center mb-2\">\n                                <AlertCircle className=\"h-6 w-6 text-green-500\" />\n                            </div>\n                            <p className=\"font-bold text-foreground\">Thank you!</p>\n                            <p className=\"text-sm text-muted-foreground\">Your feedback has been hatched.</p>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n",
      "type": "registry:ui",
      "target": "components/ui/hatch/feedback-collector.tsx"
    }
  ]
}